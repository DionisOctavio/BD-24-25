********************************************** SQL **********************************************

CREATE TABLE IMPRENTA(
ID_IMPRENTA NUMBER,
NOMBRE VARCHAR2(50),
DIRECCION_IMPRENTA VARCHAR2(100),
CONTACTO NUMBER(12),
CONSTRAINT PK_IMPRENTA PRIMARY KEY (ID_IMPRENTA),
CONSTRAINT NN_NOMBRE_IMPRENTA CHECK (NOMBRE IS NOT NULL),
CONSTRAINT CK_DIRECCION_IMPRENTA CHECK (DIRECCION_IMPRENTA IS NOT NULL),
CONSTRAINT CK_CONTACTO CHECK (CONTACTO IS NOT NULL)
);


CREATE TABLE EDITOR(
ID_EDITOR NUMBER,
EMAIL VARCHAR2(50),
NOMBRE_EDITOR VARCHAR2(50),
DIRECCION_EDITOR VARCHAR2(100),
CONSTRAINT PK_EDITOR PRIMARY KEY (ID_EDITOR),
CONSTRAINT UQ_EMAIL UNIQUE (EMAIL),
CONSTRAINT CK_EMAIL CHECK (EMAIL IS NOT NULL),
CONSTRAINT NN_NOMBRE_EDITOR CHECK (NOMBRE_EDITOR IS NOT NULL),
CONSTRAINT CK_DIRECCION_EDITOR CHECK (DIRECCION_EDITOR IS NOT NULL)
);


CREATE TABLE LIBRO(
ID_LIBRO NUMBER,
TITULO VARCHAR2(50),
ESTADO VARCHAR2(20),
ID_IMPRENTA NUMBER,
ID_EDITOR NUMBER,
CONSTRAINT PK_LIBRO PRIMARY KEY (ID_LIBRO),
CONSTRAINT CK_TITULO CHECK (TITULO IS NOT NULL),
CONSTRAINT FK_ID_IMPRENTA FOREIGN KEY (ID_IMPRENTA) REFERENCES IMPRENTA (ID_IMPRENTA),
CONSTRAINT FK_ID_EDITOR FOREIGN KEY (ID_EDITOR) REFERENCES EDITOR (ID_EDITOR)
);


CREATE TABLE AUTOR(
ID_AUTOR NUMBER,
NOMBRE_AUTOR VARCHAR2(50),
PSEUDONIMO VARCHAR2(50),
NACIONALIDAD VARCHAR2(30),
CONSTRAINT PK_AUTOR PRIMARY KEY (ID_AUTOR),
CONSTRAINT NN_NOMBRE_AUTOR CHECK (NOMBRE_AUTOR IS NOT NULL),
CONSTRAINT CK_NACIONALIDAD CHECK (NACIONALIDAD IS NOT NULL)
);


CREATE TABLE AUTOR_LIBRO(
ID_AUTOR NUMBER,
ID_LIBRO NUMBER,
CONSTRAINT FK_ID_AUTOR FOREIGN KEY (ID_AUTOR) REFERENCES AUTOR (ID_AUTOR),
CONSTRAINT FK_ID_LIBRO FOREIGN KEY (ID_LIBRO) REFERENCES LIBRO (ID_LIBRO)
);

******************************************* INSERT *******************************************

****IMPRENTA****

INSERT INTO IMPRENTA (ID_IMPRENTA, NOMBRE, DIRECCION_IMPRENTA, CONTACTO)
VALUES (1, 'Imprenta Nacional', 'Calle Ficticia 123, Ciudad Capital', 682459762);
INSERT INTO IMPRENTA (ID_IMPRENTA, NOMBRE, DIRECCION_IMPRENTA, CONTACTO)
VALUES (2, 'Editorial Mundo', 'Avenida de los Libros 45, Barrio Cultural', 635982134);
INSERT INTO IMPRENTA (ID_IMPRENTA, NOMBRE, DIRECCION_IMPRENTA, CONTACTO)
VALUES (3, 'Impresos del Valle', 'Calle Real 789, Pueblo Valle', 658323991);
INSERT INTO IMPRENTA (ID_IMPRENTA, NOMBRE, DIRECCION_IMPRENTA, CONTACTO)
VALUES (4, 'Ediciones Modernas', 'Plaza Central 234, Ciudad Moderna', 665821342);
INSERT INTO IMPRENTA (ID_IMPRENTA, NOMBRE, DIRECCION_IMPRENTA, CONTACTO)
VALUES (5, 'Impresiones del Sur', 'Calle de la Esperanza 56, Barrio Sur', 639752710);
INSERT INTO IMPRENTA (ID_IMPRENTA, NOMBRE, DIRECCION_IMPRENTA, CONTACTO)
VALUES (6, 'Gráficos Universales', 'Avenida Norte 112, Zona Universitaria', 678901203);


****EDITOR****

INSERT INTO EDITOR (ID_EDITOR, EMAIL, NOMBRE_EDITOR, DIRECCION_EDITOR)
VALUES (1, 'contacto@editorialmundo.com', 'Juan Pérez', 'Calle Editorial 123, Ciudad Capital');
INSERT INTO EDITOR (ID_EDITOR, EMAIL, NOMBRE_EDITOR, DIRECCION_EDITOR)
VALUES (2, 'info@impresionesdelsur.com', 'María López', 'Avenida Sur 456, Barrio Central');
INSERT INTO EDITOR (ID_EDITOR, EMAIL, NOMBRE_EDITOR, DIRECCION_EDITOR)
VALUES (3, 'editor@gruposigloxxi.com', 'Carlos Martínez', 'Plaza del Sol 789, Sector Centro');
INSERT INTO EDITOR (ID_EDITOR, EMAIL, NOMBRE_EDITOR, DIRECCION_EDITOR)
VALUES (4, 'contacto@edicionesmodernas.com', 'Ana Rodríguez', 'Calle Modernidad 234, Zona Norte');
INSERT INTO EDITOR (ID_EDITOR, EMAIL, NOMBRE_EDITOR, DIRECCION_EDITOR)
VALUES (5, 'editor@impresosdelvalle.com', 'Luis Gómez', 'Avenida Valle 678, Pueblo Verde');
INSERT INTO EDITOR (ID_EDITOR, EMAIL, NOMBRE_EDITOR, DIRECCION_EDITOR)
VALUES (6, 'info@editorialnacional.com', 'Elena Fernández', 'Calle Ficción 890, Barrio Alto');


****LIBRO****

INSERT INTO LIBRO (ID_LIBRO, TITULO, ESTADO, ID_IMPRENTA, ID_EDITOR)
VALUES (1, 'El Cuento del Viento', 'Disponible', 1, 1);
INSERT INTO LIBRO (ID_LIBRO, TITULO, ESTADO, ID_IMPRENTA, ID_EDITOR)
VALUES (2, 'La Aventura de la Vida', 'En Proceso', 2, 2);
INSERT INTO LIBRO (ID_LIBRO, TITULO, ESTADO, ID_IMPRENTA, ID_EDITOR)
VALUES (3, 'Misterios No Resueltos', 'Disponible', 3, 3);
INSERT INTO LIBRO (ID_LIBRO, TITULO, ESTADO, ID_IMPRENTA, ID_EDITOR)
VALUES (4, 'Secretos del Pasado', 'Disponible', 4, 4);
INSERT INTO LIBRO (ID_LIBRO, TITULO, ESTADO, ID_IMPRENTA, ID_EDITOR)
VALUES (5, 'Futuro Incertidumbre', 'En Proceso', 5, 5);
INSERT INTO LIBRO (ID_LIBRO, TITULO, ESTADO, ID_IMPRENTA, ID_EDITOR)
VALUES (6, 'El Último Refugio', 'Disponible', 6, 6);
INSERT INTO LIBRO (ID_LIBRO, TITULO, ESTADO, ID_IMPRENTA, ID_EDITOR)
VALUES (7, 'Camino de Esperanza', 'En Proceso', 1, 2);
INSERT INTO LIBRO (ID_LIBRO, TITULO, ESTADO, ID_IMPRENTA, ID_EDITOR)
VALUES (8, 'Viaje al Centro de la Tierra', 'Disponible', 2, 3);
INSERT INTO LIBRO (ID_LIBRO, TITULO, ESTADO, ID_IMPRENTA, ID_EDITOR)
VALUES (9, 'La Luz en la Oscuridad', 'Disponible', 3, 4);
INSERT INTO LIBRO (ID_LIBRO, TITULO, ESTADO, ID_IMPRENTA, ID_EDITOR)
VALUES (10, 'El Jardín Secreto', 'En Proceso', 4, 5);
INSERT INTO LIBRO (ID_LIBRO, TITULO, ESTADO, ID_IMPRENTA, ID_EDITOR)
VALUES (11, 'El Gran Viaje', 'Disponible', 5, 6);
INSERT INTO LIBRO (ID_LIBRO, TITULO, ESTADO, ID_IMPRENTA, ID_EDITOR)
VALUES (12, 'El Arte de Vivir', 'En Proceso', 6, 1);
INSERT INTO LIBRO (ID_LIBRO, TITULO, ESTADO, ID_IMPRENTA, ID_EDITOR)
VALUES (13, 'Historias de la Tierra', 'Disponible', 1, 3);
INSERT INTO LIBRO (ID_LIBRO, TITULO, ESTADO, ID_IMPRENTA, ID_EDITOR)
VALUES (14, 'El Eco del Silencio', 'En Proceso', 2, 4);
INSERT INTO LIBRO (ID_LIBRO, TITULO, ESTADO, ID_IMPRENTA, ID_EDITOR)
VALUES (15, 'Recuerdos Perdidos', 'Disponible', 3, 5);
INSERT INTO LIBRO (ID_LIBRO, TITULO, ESTADO, ID_IMPRENTA, ID_EDITOR)
VALUES (16, 'Despertar del Alma', 'En Proceso', 4, 6);
INSERT INTO LIBRO (ID_LIBRO, TITULO, ESTADO, ID_IMPRENTA, ID_EDITOR)
VALUES (17, 'El Viaje del Guerrero', 'Disponible', 5, 1);
INSERT INTO LIBRO (ID_LIBRO, TITULO, ESTADO, ID_IMPRENTA, ID_EDITOR)
VALUES (18, 'El Último Viaje', 'En Proceso', 6, 2);
INSERT INTO LIBRO (ID_LIBRO, TITULO, ESTADO, ID_IMPRENTA, ID_EDITOR)
VALUES (19, 'El Misterio de la Esfera', 'Disponible', 1, 4);
INSERT INTO LIBRO (ID_LIBRO, TITULO, ESTADO, ID_IMPRENTA, ID_EDITOR)
VALUES (20, 'El Resplandor de la Noche', 'En Proceso', 2, 5);


****AUTOR****

INSERT INTO AUTOR (ID_AUTOR, NOMBRE_AUTOR, PSEUDONIMO, NACIONALIDAD)
VALUES (1, 'Gabriel García Márquez', 'Gabo', 'Colombiana');
INSERT INTO AUTOR (ID_AUTOR, NOMBRE_AUTOR, PSEUDONIMO, NACIONALIDAD)
VALUES (2, 'Isabel Allende', 'La Casa de los Espíritus', 'Chilena');
INSERT INTO AUTOR (ID_AUTOR, NOMBRE_AUTOR, PSEUDONIMO, NACIONALIDAD)
VALUES (3, 'Mario Vargas Llosa', 'El Idiota', 'Peruana');
INSERT INTO AUTOR (ID_AUTOR, NOMBRE_AUTOR, PSEUDONIMO, NACIONALIDAD)
VALUES (4, 'Jorge Luis Borges', 'El Aleph', 'Argentina');
INSERT INTO AUTOR (ID_AUTOR, NOMBRE_AUTOR, PSEUDONIMO, NACIONALIDAD)
VALUES (5, 'Pablo Neruda', 'Neruda', 'Chilena');
INSERT INTO AUTOR (ID_AUTOR, NOMBRE_AUTOR, PSEUDONIMO, NACIONALIDAD)
VALUES (6, 'Julio Cortázar', 'Rayuela', 'Argentina');
INSERT INTO AUTOR (ID_AUTOR, NOMBRE_AUTOR, PSEUDONIMO, NACIONALIDAD)
VALUES (7, 'Octavio Paz', 'La Chispa', 'Mexicana');
INSERT INTO AUTOR (ID_AUTOR, NOMBRE_AUTOR, PSEUDONIMO, NACIONALIDAD)
VALUES (8, 'Carlos Fuentes', 'Aura', 'Mexicana');


****AUTOR_LIBRO****

INSERT INTO AUTOR_LIBRO (ID_AUTOR, ID_LIBRO) VALUES (1, 1);
INSERT INTO AUTOR_LIBRO (ID_AUTOR, ID_LIBRO) VALUES (1, 2);
INSERT INTO AUTOR_LIBRO (ID_AUTOR, ID_LIBRO) VALUES (2, 3);
INSERT INTO AUTOR_LIBRO (ID_AUTOR, ID_LIBRO) VALUES (3, 4);
INSERT INTO AUTOR_LIBRO (ID_AUTOR, ID_LIBRO) VALUES (3, 5);
INSERT INTO AUTOR_LIBRO (ID_AUTOR, ID_LIBRO) VALUES (4, 6);
INSERT INTO AUTOR_LIBRO (ID_AUTOR, ID_LIBRO) VALUES (5, 7);
INSERT INTO AUTOR_LIBRO (ID_AUTOR, ID_LIBRO) VALUES (6, 8);
INSERT INTO AUTOR_LIBRO (ID_AUTOR, ID_LIBRO) VALUES (7, 9);
INSERT INTO AUTOR_LIBRO (ID_AUTOR, ID_LIBRO) VALUES (8, 10);
INSERT INTO AUTOR_LIBRO (ID_AUTOR, ID_LIBRO) VALUES (2, 2);
INSERT INTO AUTOR_LIBRO (ID_AUTOR, ID_LIBRO) VALUES (4, 3);


*******************************************SELECT********************************************

****SELECT BASICO****

SELECT * FROM LIBRO;

SELECT TITULO, ESTADO
FROM LIBRO
WHERE ESTADO = 'Disponible';

SELECT COUNT(ESTADO) AS LIBROS_DISPONIBLES
FROM LIBRO
WHERE ESTADO = 'Disponible';


****  ****

SELECT EMP_NO, APELLIDO, OFICIO
FROM EMPLE
WHERE DEPT_NO IN (30,50);

SELECT EMP_NO, APELLIDO, OFICIO
FROM EMPLE, DEPART
WHERE EMPLE.DEPT_NO = DEPART.DEPT_NO 
AND LOC = 'BARCELONA';