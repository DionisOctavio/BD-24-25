********************************************** SQL **********************************************

CREATE TABLE IMPRENTA(
	ID_IMPRENTA NUMBER,
	NOMBRE VARCHAR2(50),
	DIRECCION_IMPRENTA VARCHAR2(100),
	CONTACTO NUMBER(12),

	CONSTRAINT PK_IMPRENTA PRIMARY KEY (ID_IMPRENTA),
	CONSTRAINT NN_NOMBRE_IMPRENTA CHECK (NOMBRE IS NOT NULL),
	CONSTRAINT CK_DIRECCION_IMPRENTA CHECK (DIRECCION_IMPRENTA IS NOT NULL),
	CONSTRAINT CK_CONTACTO CHECK (CONTACTO IS NOT NULL)
);


CREATE TABLE EDITOR(
	ID_EDITOR NUMBER,
	EMAIL VARCHAR2(50),
	NOMBRE_EDITOR VARCHAR2(50),
	DIRECCION_EDITOR VARCHAR2(100),
	
	CONSTRAINT PK_EDITOR PRIMARY KEY (ID_EDITOR),
	CONSTRAINT UQ_EMAIL UNIQUE (EMAIL),
	CONSTRAINT CK_EMAIL CHECK (EMAIL IS NOT NULL),
	CONSTRAINT NN_NOMBRE_EDITOR CHECK (NOMBRE IS NOT NULL),
	CONSTRAINT CK_DIRECCION_EDITOR (DIRECCION_EDITOR IS NOT NULL)
);


CREATE TABLE LIBRO(
	ID_LIBRO NUMBER,
	TITULO VARCHAR2(50),
	ESTADO VARCHAR2(20),
	ID_IMPRENTA NUMBER,
	ID_EDITOR NUMBER,

	CONSTRAINT PK_LIBRO PRIMARY KEY (ID_LIBRO),
	CONSTRAINT CK_TITULO CHECK (TITULO IS NOT NULL),
	CONSTRAINT FK_ID_IMPRENTA FOREIGN KEY (ID_IMPRENTA) REFERENCES IMPRENTA (ID_IMPRENTA),
	CONSTRAINT FK_ID_EDITOR FOREIGN KEY (ID_EDITOR) REFERENCES EDITOR (ID_EDITOR)
);


CREATE TABLE AUTOR(
	ID_AUTOR NUMBER,
	NOMBRE_AUTOR VARCHAR2(50),
	PSEUDONIMO VARCHAR2(50),
	NACIONALIDAD VARCHAR2(30),

	CONSTRAINT PK_AUTOR PRIMARY KEY (ID_AUTOR),
	CONSTRAINT NN_NOMBRE_AUTOR CHECK (NOMBRE_AUTOR IS NOT NULL),
	CONSTRAINT CK_NACIONALIDAD CHECK (NACIONALIDAD IS NOT NULL)
);


CREATE TABLE AUTOR_LIBRO(
	ID_AUTOR NUMBER,
	ID_LIBRO NUMBER,
	
	CONSTRAINT FK_ID_AUTOR FOREIGN KEY (ID_AUTOR) REFERENCES AUTOR (ID_AUTOR),
	CONSTRAINT FK_ID_LIBRO FOREIGN KEY (ID_LIBRO) REFERENCES LIBRO (ID_LIBRO)
);