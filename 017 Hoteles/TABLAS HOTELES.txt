******************************************************** SQL ********************************************************

CREATE TABLE CATEGORIA(
ID_CATEGORIA NUMBER,
ESTRELLA NUMBER(1),
TIPO_IVA NUMBER(3),
DESCRIPCION VARCHAR2(150),

CONSTRAINT PK_CATEGORIA PRIMARY KEY (ID_CATEGORIA),
CONSTRAINT CK_ESTRELLA CHECK (ESTRELLA IS NOT NULL),
CONSTRAINT CK_TIPO_IVA CHECK (TIPO_IVA IS NOT NULL),
);

CREATE TABLE HOTEL(
ID_HOTEL NUMBER,
NOMBRE_HOTEL VARCHAR2(50),
TELEFONO_HOTEL NUMBER(9),
ANYO_CONSTRUCION NUMBER(4),
DIRECCION VARCHAR2(100),
ID_CATEGORIA_HOTEL NUMBER,

CONSTRAINT PK_HOTEL PRIMARY KEY (ID_HOTEL),
CONSTRAINT NN_NOMBRE_HOTEL CHECK (NOMBRE_HOTEL IS NOT NULL),
CONSTRAINT CK_TELEFONO_HOTEL CHECK (TELEFONO_HOTEL IS NOT NULL),
CONSTRAINT UQ_TELEFONO_HOTEL UNIQUE (TELEFONO_HOTEL),
CONSTRAINT CK_ANYO_CONSTRUCION CHECK (ANYO_CONSTRUCION IS NOT NULL),
CONSTRAINT CK_DIRECCION_HOTEL CHECK (DIRECCION_HOTEL IS NOT NULL),
CONSTRAINT FK_ID_CATEGORIA FOREIGN KEY (ID_CATEGORIA) REFERENCES CATEGORIA (ID_CATEGORIA),
);

CREATE TABLE HABITACION(
ID_HABITACION NUMBER,
CLASE_HABITACION VARCHAR2(60),
NUMERO_HABITACION NUMBER(5),
ID_HOTEL NUMBER,

CONSTRAINT PK_HABITACION PRIMARY KEY (ID_HABITACION),
CONSTRAINT CK_CLASE_HABITACION CHECK (CLASE_HABITACION IS NOT NULL),
CONSTRAINT CK_NUMERO_HABITACION CHECK (NUMERO_HABITACION IS NOT NULL),
CONSTRAINT FK_ID_HOTEL FOREIGN KEY (ID_HOTEL) REFERENCES HOTEL (ID_HOTEL),
);

CREATE TABLE RESERVANTE(
ID_RESERVANTE NUMBER,
NOMBRE_RESERVANTE VARCHAR2(50),
TELEFONO_RESERVANTE NUMBER(12),
DIRECCION VARCHAR2(100),
NOMBRE_RESERVANTE_AGENCIA VARCHAR2(50),

CONSTRAINT PK_RESERVANTE PRIMARY KEY (ID_RESERVANTE),
CONSTRAINT NN_NOMBRE_RESERVANTE CHECK (NOMBRE_RESERVANTE IS NOT NULL),
CONSTRAINT CK_TELEFONO_RESERVANTE CHECK (TELEFONO_RESERVANTE IS NOT NULL),
CONSTRAINT UQ_TELEFONO_RESERVANTE UNIQUE (TELEFONO_RESERVANTE),
CONSTRAINT CK_DIRECCION_RESERVANTE CHECK (DIRECCION_RESERVANTE IS NOT NULL),
CONSTRAINT NN_NOMBRE_RESERVANTE_AGENCIA CHECK (NOMBRE_RESERVANTE_AGENCIA IS NOT NULL),
);

CREATE TABLE RESERVANTE_HABITACION(
PRECIO NUMBER(4),
FECHA_INICIO SYSDATE,
FECHA_FIN DATE,
ID_RESERVANTE NUMBER,
ID_HABITACION NUMBER,

CONSTRAINT CK_PRECIO CHECK (PRECIO IS NOT NULL),
CONSTRAINT CK_FECHA_INICIO (FECHA_INICIO IS NOT NULL),
CONSTRAINT CK_FECHA_FIN (FECHA_FIN IS NOT NULL),
CONSTRAINT FK_ID_RESERVANTE FOREIGN KEY (ID_RESERVANTE) REFERENCES RESERVANTE (ID_RESERVANTE),
CONSTRAINT FK_ID_HABITACION FOREIGN KEY (ID_HABITACION) REFERENCES HABITACION (ID_HABITACION),
);