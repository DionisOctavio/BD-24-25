CREATE TABLE PERSONA (
	ID_PERSONA NUMBER,
	DNI VARCHAR2(15),
	NOMBRE VARCHAR2(50),
	CONSTRAINT PK_PERSONA PRIMARY KEY (ID_PERSONA),
	CONSTRAINT UQ_DNI UNIQUE (DNI),
	CONSTRAINT NN_DNI CHECK (DNI IS NOT NULL),
	CONSTRAINT NN_NOMBRE_PERSONA CHECK (NOMBRE IS NOT NULL)
);

CREATE TABLE PEÃ‘ISTA (
	ID_PENYISTA NUMBER(5),
    	ID_PERSONA NUMBER(7),
   	ID_PENYA NUMBER(3),
   	NUMERO_PENYISTA NUMBER(3),
    	FECHA_INSCRIPCION DATE,

    	CONSTRAINT PK_PENYISTA PRIMARY KEY (ID_PENYISTA),
    	CONSTRAINT NN_ID_PERSONA CHECK (ID_PERSONA IS NOT NULL),
    	CONSTRAINT NN_ID_PENYA CHECK (ID_PENYA IS NOT NULL),
    	CONSTRAINT NN_NUMERO_PENYISTA CHECK (NUMERO_PENYISTA IS NOT NULL),
    	CONSTRAINT NN_FECHA_INSCRIPCION CHECK (FECHA_INSCRIPCION IS NOT NULL),
    	CONSTRAINT FK_PENYISTA_PERSONA FOREIGN KEY (ID_PERSONA) REFERENCES PERSONA(ID_PERSONA),
    	CONSTRAINT FK_PENYISTA_PENYA FOREIGN KEY (ID_PENYA) REFERENCES PENYA(ID_PENYA)
);

CREATE TABLE PENYA (
	ID_PENYA NUMBER,
	NOMBRE VARCHAR2(50),
	ANYO_FUNDACION NUMBER(4),
	DIRECCION VARCHAR(100),
	CONSTRAINT PK_PENYA PRIMARY KEY (ID_PENYA),
	CONSTRAINT UQ_NOMBRE UNIQUE (NOMBRE),
	CONSTRAINT NN_NOMBRE_PENYA CHECK (NOMBRE IS NOT NULL),
	CONSTRAINT CK_ANYO_FUNDACION CHECK (ANYO_FUNDACION BETWEEN 1950 AND 2025),
	CONSTRAINT CK_DIRECCION CHECK (NOMBRE IS NOT NULL)
);